/* --- style.css --- */

/* ... (كل الكود من المتغيرات حتى بداية قسم @media (max-width: 767px) يبقى كما هو من الرد السابق الذي دمجت فيه كل شيء) ... */
/* تأكد أن لديك متغيرات مثل --color-info في :root و body.dark-mode */
/*
:root { --color-info: #3498DB; --color-info-rgb: 52, 152, 219; }
body.dark-mode { --color-info: #5DADE2; }
*/

/* --- 12. تحسينات خاصة بالهواتف (Mobile Optimizations) --- */
@media (max-width: 767px) {
    /* ... (كل التعديلات السابقة للهواتف تبقى كما هي) ... */

    /* تعديل كرت الصنف لصور أكبر ونص متناسق */
    #menu-items-grid {
        grid-template-columns: 1fr; /* عمود واحد دائمًا على الهواتف */
        gap: var(--spacing-md); /* مسافة مناسبة بين الكروت */
    }
    .menu-item-card {
        flex-direction: column; /* الصورة فوق، النص تحت */
        align-items: stretch;
        border-radius: var(--border-radius-sm); /* حواف أقل دائرية قليلاً */
        box-shadow: var(--shadow-sm); /* ظل أخف */
    }
    .menu-item-card img {
        width: 100%;
        height: 200px; /* زيادة ارتفاع الصورة بشكل ملحوظ */
        object-fit: cover;
        border-radius: var(--border-radius-sm) var(--border-radius-sm) 0 0; /* دائرية للحواف العلوية فقط */
    }
    .menu-item-card .item-info {
        padding: var(--spacing-sm); /* حشو داخلي مناسب */
        display: flex;
        flex-direction: column;
        flex-grow: 1;
    }
    .item-info h3 {
        font-size: 1.1rem; /* حجم مناسب لاسم الصنف */
        margin-bottom: var(--spacing-xs);
    }
    .item-info .description {
        font-size: 0.8rem;
        line-height: 1.5; /* تحسين تباعد الأسطر */
        margin-bottom: var(--spacing-sm);
        -webkit-line-clamp: 3; /* السماح بثلاثة أسطر للوصف إذا أمكن */
        min-height: calc(0.8rem * 1.5 * 3); /* مساحة لثلاثة أسطر */
    }
    .item-info > div:last-child { /* حاوية السعر والزر */
        margin-top: auto; /* دفعها لأسفل */
        align-items: center; /* محاذاة رأسية للسعر والزر */
    }
    .item-info .price {
        font-size: 1.15rem; /* حجم جيد للسعر */
    }
    .add-to-cart-button {
        padding: 6px var(--spacing-sm); /* حشو مناسب للزر */
        font-size: 0.8rem;
    }


    /* الشريط الجانبي للسلة (قائمة الطلب) - تصغير معقول */
    .cart-sidebar {
        max-width: 300px; /* عرض مناسب على الجوال */
    }
    /* ... (بقية تصغيرات السلة تبقى كما في الرد السابق، مع مراجعة القيم لتكون متوازنة) ... */
    .cart-item-entry img { width: 50px; height: 50px; }
    .cart-item-details span:first-child { font-size: 0.9rem; }


    /* الفاتورة المعروضة على الشاشة للجوال - تصميم محسن */
    .receipt-modal-content { /* تعديل padding لمحتوى الـmodal الخاص بالفاتورة */
        padding: var(--spacing-sm);
    }
    #printable-receipt-area { /* منطقة الفاتورة الفعلية للعرض على الشاشة */
        font-family: var(--font-body); /* خط مقروء للشاشة */
        color: var(--color-text);
        background-color: var(--color-surface);
        padding: var(--spacing-md); /* حشو داخلي مناسب */
        margin: 0 auto var(--spacing-md) auto;
        max-width: 95%; /* تشغل معظم عرض شاشة الجوال */
        border: 1px solid var(--color-border);
        border-radius: var(--border-radius-md); /* حواف أكثر دائرية */
        box-shadow: var(--shadow-md);
        line-height: 1.6; /* تباعد أسطر جيد */
        font-size: 0.9rem; /* حجم خط أساسي جيد */
    }
    body.dark-mode #printable-receipt-area {
        color: var(--color-text);
        background-color: var(--color-surface);
        border-color: var(--color-border);
    }
    /* تعديلات على عناصر الفاتورة الداخلية لتكون أوضح على الشاشة */
    #printable-receipt-area .receipt-header {
        margin-bottom: var(--spacing-sm);
    }
    #printable-receipt-area .receipt-logo {
        max-width: 65px; /* شعار أكبر قليلاً */
        filter: none;
    }
    #printable-receipt-area .receipt-header h2#receipt-header-title { /* العنوان الثابت للفاتورة */
        font-family: var(--font-display);
        font-size: 1.2rem; /* حجم جيد لعنوان الفاتورة */
        color: var(--color-primary) !important;
        margin-top: var(--spacing-xs);
    }
    #printable-receipt-area #receipt-restaurant-name {
        font-size: 1rem; /* اسم المطعم بحجم مقروء */
        font-weight: 500;
        color: var(--color-secondary) !important;
    }
    #printable-receipt-area .receipt-info p {
        font-size: 0.85rem; /* معلومات الطلب */
        margin: var(--spacing-xs) 0;
    }
    #printable-receipt-area .receipt-table {
        margin-bottom: var(--spacing-md); /* مسافة أكبر بعد الجدول */
    }
    #printable-receipt-area .receipt-table th,
    #printable-receipt-area .receipt-table td {
        font-size: 0.85rem; /* حجم خط مقروء للجدول */
        padding: var(--spacing-xs) 2px; /* تعديل الحشو ليناسب المحتوى */
    }
    #printable-receipt-area .receipt-table th {
        font-weight: 500; /* تخفيف حدة الخط قليلاً */
    }
    #printable-receipt-area .receipt-table tfoot td {
        font-size: 0.9rem; /* الإجماليات بحجم واضح */
        padding-top: var(--spacing-sm);
    }
    #printable-receipt-area .receipt-table tfoot .value {
        font-weight: 700; /* جعل القيم الإجمالية سميكة */
    }
    #printable-receipt-area .receipt-payment-details,
    #printable-receipt-area .receipt-thankyou,
    #printable-receipt-area .receipt-footer-notes {
        font-size: 0.8rem; /* نصوص سفلية مقروءة */
        margin-top: var(--spacing-sm);
    }

    /* أزرار التحكم بالفاتورة على الجوال */
    .receipt-actions-toolbar {
        display: grid; /* استخدام grid لتوزيع أفضل للأزرار */
        grid-template-columns: 1fr; /* زر واحد في كل سطر بشكل افتراضي */
        gap: var(--spacing-sm); /* مسافة جيدة بين الأزرار */
        padding: var(--spacing-sm) 0; /* إزالة الحشو الجانبي */
        margin-top: var(--spacing-md);
    }
    @media (min-width: 400px) { /* إذا كان عرض الشاشة يسمح، يمكن وضع زرين جنبًا إلى جنب */
        .receipt-actions-toolbar {
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
        }
    }
    .receipt-actions-toolbar .action-button,
    .receipt-actions-toolbar .secondary-action {
        width: 100%; /* الزر يشغل عرض عمود Grid */
        font-size: 0.85rem; /* حجم خط مناسب للأزرار */
        padding: var(--spacing-sm) var(--spacing-xs); /* حشو متوازن */
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .receipt-actions-toolbar i, .receipt-actions-toolbar svg { /* لتوسيط الأيقونة SVG */
        margin-right: var(--spacing-xs); /* أيقونة على يمين النص في RTL */
        margin-left: 0;
        width: 1em; /* حجم الأيقونة يتناسب مع الخط */
        height: 1em;
        vertical-align: middle; /* محاذاة رأسية أفضل */
    }
    /* تخصيص زر حفظ الصورة ليكون بارزًا */
    #save-receipt-image-button {
        background-color: var(--color-info); /* لون أزرق مميز */
        color: white;
        border: 1px solid var(--color-info);
    }
    body.dark-mode #save-receipt-image-button {
        background-color: var(--color-info);
        color: var(--color-background); /* نص داكن على خلفية فاتحة */
    }
    #save-receipt-image-button:hover:not(:disabled) {
        background-color: Erfolg(var(--color-info), -15%) !important; /* تعتيم طفيف للون عند الهوفر */
    }

}
/* نهاية @media (max-width: 767px) */


/* --- 13. أنماط الطباعة (مهمة للفاتورة) --- */
@media print {
    /* ... (أنماط الطباعة تبقى كما هي من الرد السابق، مع التأكيد على خط الكاشير للفاتورة) ... */
    #printable-receipt-area {
        font-family: 'Courier New', Courier, monospace !important;
        font-size: 9pt !important; /* حجم خط أصغر قليلاً للطباعة على ورق كاشير ضيق */
        max-width: 76mm !important; /* عرض ورق الكاشير الشائع */
        padding: 3mm !important; /* هوامش صغيرة للطباعة */
    }
    #printable-receipt-area * {
        font-family: 'Courier New', Courier, monospace !important;
        font-size: 9pt !important; /* ضمان أن كل شيء بنفس الحجم */
    }
    #printable-receipt-area .receipt-header h2#receipt-header-title,
    #printable-receipt-area #receipt-restaurant-name {
        font-size: 10pt !important; /* اسم المطعم والعنوان الرئيسي بحجم أكبر قليلاً */
    }
    #printable-receipt-area .receipt-logo {
        max-width: 50px !important; /* شعار أصغر للطباعة */
    }
    /* ... بقية أنماط الطباعة ... */
}

/* ... (فئات المساعدة تبقى كما هي) ... */
